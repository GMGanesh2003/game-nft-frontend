<!doctype html>
<html class="no-js" lang="en">


<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <title>VictoryVault</title>
    <meta name="description" content="eSports and Gaming NFT Template">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    
    <link rel="shortcut icon" type="image/x-icon" href="assets/img/favicon.png">

    
    <link rel="stylesheet" href="assets/css/plugins.css">
    <link rel="stylesheet" href="assets/css/main.css">
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11.15.10/dist/sweetalert2.all.min.js"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/sweetalert2@11.15.10/dist/sweetalert2.min.css">

    
    <script src="assets/js/tg-page-head.js"></script>
</head>

<body>


    
    <button class="scroll__top scroll-to-target" data-target="html">
        <i class="flaticon-right-arrow"></i>
    </button>
    

    
    <header>
        <div id="sticky-header" class="tg-header__area transparent-header">
            <div class="container custom-container">
                <div class="row">
                    <div class="col-12">
                        <div class="mobile-nav-toggler"><i class="fas fa-bars"></i></div>
                        <div class="tgmenu__wrap">
                            <nav class="tgmenu__nav">
                                <div class="logo">
                                    <a href="index-2.html"><img src="assets/img/logo/logo.png" alt="Logo"></a>
                                </div>
                                <div class="tgmenu__navbar-wrap tgmenu__main-menu d-none d-xl-flex">
                                    <ul class="navigation">
                                        
                                        <li><a href="index-3.html">Home</a></li>
                                        <li><a href="about-us.html">ABOUT US</a></li>
                                        <li><a href="tournament.html">TOURNAMENT</a></li>
                                        <li class="active"><a href="leaderboard.html">LEADERBOARD</a></li>
                                        <li><a href="contact.html">contact</a></li>
                                    </ul>
                                </div>
                                <div class="tgmenu__action d-none d-md-block">
                                    <ul class="list-wrap">
                                        <li class="search"><a href="javascript:void(0)"><i class="flaticon-search-1"></i></a></li>
                                        <li class="header-btn">
                                            <a href="login.html" class="tg-border-btn" id="authButton">
                                                <svg preserveAspectRatio="none" viewBox="0 0 157 48" fill="none">
                                                    <path fill-rule="evenodd" clip-rule="evenodd" d="M131.75 2L155.75 25L131.75 47L148.75 24L131.75 2Z" fill="currentColor"></path>
                                                    <path fill-rule="evenodd" clip-rule="evenodd" d="M25 1L1 24.5111L25 47L8 23.4889L25 1Z" fill="currentColor"></path>
                                                    <path fill-rule="evenodd" clip-rule="evenodd" d="M24.75 1L0.75 25L23.75 47H131.75L155.75 25L131.75 1H24.75Z" stroke="currentColor" stroke-width="1.5"></path>
                                                </svg>
                                                <i class="flaticon-edit"></i>
                                                <span id="authButtonText">~sign in</span>
                                            </a>
                                        </li>
                                        <li class="side-toggle-icon">
                                            <span></span>
                                            <span></span>
                                            <span></span>
                                        </li>
                                    </ul>
                                </div>
                            </nav>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        
        <div class="tgmobile__menu">
            <nav class="tgmobile__menu-box">
                <div class="close-btn"><i class="flaticon-swords-in-cross-arrangement"></i></div>
                <div class="nav-logo">
                    <a href="index-2.html"><img src="assets/img/logo/logo.png" alt="Logo"></a>
                </div>
                <div class="tgmobile__search">
                    <form action="#">
                        <input type="text" placeholder="Search here...">
                        <button><i class="flaticon-loupe"></i></button>
                    </form>
                </div>
                <div class="tgmobile__menu-outer">
                    <!--Here Menu Will Come Automatically Via Javascript / Same Menu as in Header-->
                </div>
                <div class="social-links">
                    <ul class="list-wrap">
                        <li><a href="#"><i class="fab fa-facebook-f"></i></a></li>
                        <li>
                            <a href="#">
                                <svg width="14" height="14" viewBox="0 0 14 14" fill="none" xmlns="http://www.w3.org/2000/svg">
                                    <path d="M8.33192 5.92804L13.5438 0H12.3087L7.78328 5.14724L4.16883 0H0L5.46575 7.78353L0 14H1.2351L6.01407 8.56431L9.83119 14H14L8.33192 5.92804ZM6.64027 7.85211L6.08648 7.07704L1.68013 0.909771H3.57718L7.13316 5.88696L7.68694 6.66202L12.3093 13.1316H10.4123L6.64027 7.85211Z"
                                        fill="currentColor" />
                                </svg>
                            </a>
                        </li>
                        <li><a href="#"><i class="fab fa-instagram"></i></a></li>
                        <li><a href="#"><i class="fab fa-linkedin-in"></i></a></li>
                        <li><a href="#"><i class="fab fa-youtube"></i></a></li>
                    </ul>
                </div>
            </nav>
        </div>
        <div class="tgmobile__menu-backdrop"></div>
        

        
        <div class="search__popup-wrap">
            <div class="search__layer"></div>
            <div class="search__close">
                <span><i class="flaticon-swords-in-cross-arrangement"></i></span>
            </div>
            <div class="search__wrap text-center">
                <div class="container">
                    <div class="row">
                        <div class="col-12">
                            <h2 class="title">... <span>Search Here</span> ...</h2>
                            <div class="search__form">
                                <form action="#">
                                    <input type="text" name="search" placeholder="Type keywords here" required>
                                    <button class="search-btn"><i class="flaticon-loupe"></i></button>
                                </form>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        

        
        <div class="offCanvas__wrap">
            <div class="offCanvas__body">
                <div class="offCanvas__top">
                    <div class="offCanvas__logo logo">
                        <a href="index-2.html"><img src="assets/img/logo/logo.png" alt="Logo"></a>
                    </div>
                    <div class="offCanvas__toggle">
                        <i class="flaticon-swords-in-cross-arrangement"></i>
                    </div>
                </div>
                <div class="offCanvas__content">
                    <h2 class="title">Best Seller of Month Ideas for <span>NFT Wallet</span></h2>
                    <div class="offCanvas__contact">
                        <h4 class="small-title">CONTACT US</h4>
                        <ul class="offCanvas__contact-list list-wrap">
                            <li><a href="tel:93332225557">+9 333 222 5557</a></li>
                            <li><a href="mailto:info@webmail.com">info@webmail.com</a></li>
                            <li>New Central Park W7 Street ,New York</li>
                        </ul>
                    </div>
                    <div class="offCanvas__newsletter">
                        <h4 class="small-title">Subscribe</h4>
                        <form action="#" class="offCanvas__newsletter-form">
                            <input type="email" placeholder="Get News & Updates">
                            <button type="submit"><i class="flaticon-send"></i></button>
                        </form>
                        <p>Subscribe dolor sitamet, consectetur adiping eli. Duis esollici tudin augue.</p>
                    </div>
                    <ul class="offCanvas__social list-wrap">
                        <li>
                            <a href="#">
                                <svg width="14" height="14" viewBox="0 0 14 14" fill="none" xmlns="http://www.w3.org/2000/svg">
                                    <path d="M8.33192 5.92804L13.5438 0H12.3087L7.78328 5.14724L4.16883 0H0L5.46575 7.78353L0 14H1.2351L6.01407 8.56431L9.83119 14H14L8.33192 5.92804ZM6.64027 7.85211L6.08648 7.07704L1.68013 0.909771H3.57718L7.13316 5.88696L7.68694 6.66202L12.3093 13.1316H10.4123L6.64027 7.85211Z" fill="currentColor" />
                                </svg>
                            </a>
                        </li>
                        <li><a href="#"><i class="fab fa-facebook-f"></i></a></li>
                        <li><a href="#"><i class="fab fa-linkedin-in"></i></a></li>
                        <li><a href="#"><i class="fab fa-youtube"></i></a></li>
                    </ul>
                </div>
                <div class="offCanvas__copyright">
                    <p>Copyright © 2024 - By <span>MYKD</span></p>
                </div>
            </div>
        </div>
        <div class="offCanvas__overlay"></div>
        

    </header>
    



    
    <main class="main--area">

        
        <section class="breadcrumb-area" data-background="assets/img/bg/breadcrumb_bg03.jpg">
            <div class="container">
                <div class="breadcrumb__wrapper">
                    <div class="row">
                        <div class="col-xl-6 col-lg-7">
                            <div class="breadcrumb__content">
                                <h2 class="title">Leaderboard</h2>
                                <nav aria-label="breadcrumb">
                                    <ol class="breadcrumb">
                                        <li class="breadcrumb-item"><a href="index-2.html">Home</a></li>
                                        <li class="breadcrumb-item active" aria-current="page">Leaderboard</li>
                                    </ol>
                                </nav>
                            </div>
                        </div>
                        <div class="col-xl-6 col-lg-5 position-relative d-none d-lg-block">
                            <div class="breadcrumb__img">
                                <img src="assets/img/others/podium.png" alt="img">
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>
        


        
        <section class="tournament__list-area section-pb-120 section-pt-120" data-background="assets/img/bg/tournament_bg.jpg">
            <div class="container">
                <div class="tournament__wrapper">
                    <div class="row align-items-end mb-60">
                        <div class="col-lg-8">
                            <div class="section__title text-center text-lg-start title-shape-none">
                                <span class="sub-title tg__animate-text">Players List</span>
                                <h3 class="title">Leaderboard</h3>
                            </div>
                        </div>
                        
                            <div class="section__title-link">
                                <a href="tournament.html">EXPLORE MORE</a>
                            </div>
                        </div> -->
                    </div>
                    <div class="row">
                        <div class="col-12">
                            <div class="tournament__list-item-wrapper">
                                <div class="tournament__list-item wow fadeInUp" data-wow-delay=".2s">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="1116.562" height="163.37" viewBox="0 0 1116.562 163.37">
                                        <path class="background-path" d="M708,1784l28-27s4.11-5.76,18-6,702-1,702-1a37.989,37.989,0,0,1,16,9c7.47,7.08,37,33,37,33s9.02,9.47,9,18,0,42,0,42-0.19,9.43-11,19-32,30-32,30-5.53,11.76-21,12-985,0-985,0a42.511,42.511,0,0,1-26-13c-11.433-12.14-34-32-34-32s-6.29-5.01-7-17,0-43,0-43-1-5.42,12-18,34-32,34-32,10.4-8.28,19-8,76,0,76,0a44.661,44.661,0,0,1,21,11c9.268,8.95,22,22,22,22Z" transform="translate(-401.563 -1749.875)" />
                                    </svg>
                                    <div class="tournament__list-content">
                                        <div class="tournament__list-thumb">
                                            <a href="tournament-details.html"><img src="assets/img/others/tournament_thumb01.png" alt="thumb"></a>
                                        </div>
                                        <div class="tournament__list-name">
                                            <h5 class="team-name">Player01</h5>
                                            <span class="status">Online</span>
                                        </div>
                                        <div class="tournament__list-prize">
                                            <h6 class="title">Rewards Earned</h6>
                                            <i class="fas fa-trophy"></i>
                                            <span>$75000</span>
                                        </div>
                                        <div class="tournament__list-time">
                                            <h6 class="title">Time Spent</h6>
                                            <i class="fas fa-clock"></i>
                                            <span>10h : 15m</span>
                                        </div>
                                        <div class="tournament__list-live">
                                            <a href="team-details.html" target="_blank">View Profile<i class="far fa-play-circle"></i></a>
                                        </div>
                                    </div>
                                </div>
                                
                                <div class="tournament__list-item wow fadeInUp" data-wow-delay=".4s">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="1116.562" height="163.37" viewBox="0 0 1116.562 163.37">
                                        <path class="background-path" d="M708,1784l28-27s4.11-5.76,18-6,702-1,702-1a37.989,37.989,0,0,1,16,9c7.47,7.08,37,33,37,33s9.02,9.47,9,18,0,42,0,42-0.19,9.43-11,19-32,30-32,30-5.53,11.76-21,12-985,0-985,0a42.511,42.511,0,0,1-26-13c-11.433-12.14-34-32-34-32s-6.29-5.01-7-17,0-43,0-43-1-5.42,12-18,34-32,34-32,10.4-8.28,19-8,76,0,76,0a44.661,44.661,0,0,1,21,11c9.268,8.95,22,22,22,22Z" transform="translate(-401.563 -1749.875)" />
                                    </svg>
                                    <div class="tournament__list-content">
                                        <div class="tournament__list-thumb">
                                            <a href="tournament-details.html"><img src="assets/img/others/tournament_thumb02.png" alt="thumb"></a>
                                        </div>
                                        <div class="tournament__list-name">
                                            <h5 class="team-name">Player02</h5>
                                            <span class="status">Online</span>
                                        </div>
                                        <div class="tournament__list-prize">
                                            <h6 class="title">Rewards Earned</h6>
                                            <i class="fas fa-trophy"></i>
                                            <span>$85000</span>
                                        </div>
                                        <div class="tournament__list-time">
                                            <h6 class="title">Time Spent</h6>
                                            <i class="fas fa-clock"></i>
                                            <span>12h : 10m</span>
                                        </div>
                                        <div class="tournament__list-live">
                                            <a href="team-details.html" target="_blank">View Profile<i class="far fa-play-circle"></i></a>
                                        </div>
                                    </div>
                                </div>

                                <div class="tournament__list-item wow fadeInUp" data-wow-delay=".6s">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="1116.562" height="163.37" viewBox="0 0 1116.562 163.37">
                                        <path class="background-path" d="M708,1784l28-27s4.11-5.76,18-6,702-1,702-1a37.989,37.989,0,0,1,16,9c7.47,7.08,37,33,37,33s9.02,9.47,9,18,0,42,0,42-0.19,9.43-11,19-32,30-32,30-5.53,11.76-21,12-985,0-985,0a42.511,42.511,0,0,1-26-13c-11.433-12.14-34-32-34-32s-6.29-5.01-7-17,0-43,0-43-1-5.42,12-18,34-32,34-32,10.4-8.28,19-8,76,0,76,0a44.661,44.661,0,0,1,21,11c9.268,8.95,22,22,22,22Z" transform="translate(-401.563 -1749.875)" />
                                    </svg>
                                    <div class="tournament__list-content">
                                        <div class="tournament__list-thumb">
                                            <a href="tournament-details.html"><img src="assets/img/others/tournament_thumb03.png" alt="thumb"></a>
                                        </div>
                                        <div class="tournament__list-name">
                                            <h5 class="team-name">Player03</h5>
                                            <span class="status">Online</span>
                                        </div>
                                        <div class="tournament__list-prize">
                                            <h6 class="title">Rewards Earned</h6>
                                            <i class="fas fa-trophy"></i>
                                            <span>$45000</span>
                                        </div>
                                        <div class="tournament__list-time">
                                            <h6 class="title">Time Spent</h6>
                                            <i class="fas fa-clock"></i>
                                            <span>10h : 15m</span>
                                        </div>
                                        <div class="tournament__list-live">
                                            <a href="team-details.html" target="_blank">View Profile<i class="far fa-play-circle"></i></a>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>
        

    </main>
    


    
    <footer class="footer-style-one">
        <div class="footer__top-wrap">
            <div class="container">
                <div class="row">
                    <div class="col-xl-4 col-lg-5 col-md-7">
                        <div class="footer-widget">
                            <div class="footer-logo logo">
                                <a href="index-2.html"><img src="assets/img/logo/logo.png" alt="Logo"></a>
                            </div>
                            <div class="footer-text">
                                <p class="desc">Lorem ipsum dolor sitamet consectur adipiscing Duis esollici tudin augue euismod. Nulla ullam dolor sitamet consectetur</p>
                                <p class="social-title">Active <span>With Us <i class="fas fa-angle-double-right"></i></span></p>
                                <div class="footer-social">
                                    <a href="#"><img src="assets/img/icons/social_icon01.png" alt="iocn"></a>
                                    <a href="#"><img src="assets/img/icons/social_icon02.png" alt="iocn"></a>
                                    <a href="#"><img src="assets/img/icons/social_icon03.png" alt="iocn"></a>
                                    <a href="#"><img src="assets/img/icons/social_icon04.png" alt="iocn"></a>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-xl-2 col-lg-3 col-md-5 col-sm-6">
                        <div class="footer-widget widget_nav_menu">
                            <h4 class="fw-title">quick link</h4>
                            <ul class="list-wrap menu">
                                <li><a href="#">Gaming</a></li>
                                <li><a href="#">Product</a></li>
                                <li><a href="#">All NFTs</a></li>
                                <li><a href="#">Social Network</a></li>
                                <li><a href="#">Domain Names</a></li>
                                <li><a href="#">Collectibles</a></li>
                            </ul>
                        </div>
                    </div>
                    <div class="col-xl-2 col-lg-3 col-md-5 col-sm-6">
                        <div class="footer-widget widget_nav_menu">
                            <h4 class="fw-title">Supports</h4>
                            <ul class="list-wrap menu">
                                <li><a href="#">Setting & Privacy</a></li>
                                <li><a href="#">Help & Support</a></li>
                                <li><a href="#">Live Auctions</a></li>
                                <li><a href="#">Item Details</a></li>
                                <li><a href="#">24/7 Supports</a></li>
                                <li><a href="#">Our News</a></li>
                            </ul>
                        </div>
                    </div>
                    <div class="col-xl-4 col-lg-5 col-md-7">
                        <div class="footer-widget">
                            <h4 class="fw-title">Newsletter</h4>
                            <div class="footer-newsletter">
                                <p>Subscribe our newsletter to get our latest update & newsconsectetur</p>
                                <form action="#" class="footer-newsletter-form">
                                    <input type="email" placeholder="Your email address">
                                    <button type="submit"><i class="flaticon-paper-plane"></i></button>
                                </form>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="copyright__wrap">
            <div class="container">
                <div class="row align-items-center">
                    <div class="col-md-7">
                        <div class="copyright__text">
                             <p>Copyright © 2024 - All Rights Reserved By <span>VictoryVault</span></p>
                        </div>
                    </div>
                    <div class="col-md-5">
                        <div class="copyright__card text-center text-md-end">
                            <img src="assets/img/others/payment_card.png" alt="img">
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </footer>
    



    
    <script src="assets/js/vendor/jquery-3.6.0.min.js"></script>
    <script src="assets/js/plugins.js"></script>
    <script src="assets/js/ajax-form.js"></script>
    <script src="assets/js/main.js"></script>
    <script src="assets/js/auth/auth.js"></script>

    
     <script>
    async function loadLeaderboard() {
        try {
            const currentUser = JSON.parse(localStorage.getItem('currentUser'));
            const response = await fetch('http://localhost:8080/api/v1/user/earnings', {
                headers: {
                    'Authorization': `Bearer ${currentUser.accessToken}`
                }
            });
            let users = await response.json();
            
            // Ensure users is an array
            if (!Array.isArray(users)) {
                console.error('Expected array of users but got:', users);
                users = []; // Set to empty array if not an array
            }

            // Sort users by total prize amount in descending order
            users.sort((a, b) => b.totalPrizeAmount - a.totalPrizeAmount);
            
            const leaderboardHTML = `
                <div class="tournament__list-item-wrapper">
                    ${users.length > 0 ? users.map((user, index) => `
                        <div class="tournament__list-item wow fadeInUp" data-wow-delay=".${index * 2}s">
                            <svg xmlns="http://www.w3.org/2000/svg" width="1116.562" height="163.37" viewBox="0 0 1116.562 163.37">
                                <path class="background-path" d="M708,1784l28-27s4.11-5.76,18-6,702-1,702-1a37.989,37.989,0,0,1,16,9c7.47,7.08,37,33,37,33s9.02,9.47,9,18,0,42,0,42-0.19,9.43-11,19-32,30-32,30-5.53,11.76-21,12-985,0-985,0a42.511,42.511,0,0,1-26-13c-11.433-12.14-34-32-34-32s-6.29-5.01-7-17,0-43,0-43-1-5.42,12-18,34-32,34-32,10.4-8.28,19-8,76,0,76,0a44.661,44.661,0,0,1,21,11c9.268,8.95,22,22,22,22Z" transform="translate(-401.563 -1749.875)" />
                            </svg>
                            <div class="tournament__list-content">
                                <div class="tournament__list-thumb">
                                    <a href="team-details.html?id=${user.id}">
                                        <img src="assets/img/others/tournament_thumb0${(index % 3) + 1}.png" alt="thumb">
                                    </a>
                                </div>
                                <div class="tournament__list-name">
                                    <h5 class="team-name">${user.name} ${user.id === currentUser.id ? '(You)' : ''}</h5>
                                    <span class="status">Rank #${index + 1}</span>
                                </div>
                                <div class="tournament__list-prize">
                                    <h6 class="title">Total Earnings</h6>
                                    <i class="fas fa-trophy"></i>
                                    <span>$${user.totalPrizeAmount.toFixed(2)}</span>
                                </div>
                                <div class="tournament__list-time">
                                    <h6 class="title">Tournaments</h6>
                                    <i class="fas fa-gamepad"></i>
                                    <span>${user.noOfTournaments}</span>
                                </div>
                                <div class="tournament__list-live">
                                    <a href="team-details.html?id=${user.id}">View Profile<i class="far fa-play-circle"></i></a>
                                </div>
                            </div>
                        </div>
                    `).join('') : `
                        <div class="no-data">No data available</div>
                    `}
                </div>
            `;

            // Update the content
            document.querySelector('.tournament__wrapper .row .col-12').innerHTML = leaderboardHTML;
        } catch (error) {
            console.error('Error loading leaderboard:', error);
            document.querySelector('.tournament__wrapper .row .col-12').innerHTML = `
                <div class="alert alert-danger">
                    Error loading leaderboard. Please try again later.
                </div>
            `;
        }
    }
    
    // Add these styles
    const styles = `
    <style>
        .tournament__list-item {
            position: relative;
            margin-bottom: 30px;
        }

        .tournament__list-item.current-user .tournament__list-content {
            background: rgba(76, 175, 80, 0.15);
        }

        .no-data {
            text-align: center;
            padding: 30px;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 8px;
            margin: 20px 0;
        }

        .alert-danger {
            background: rgba(220, 53, 69, 0.1);
            color: #dc3545;
            padding: 15px;
            border-radius: 8px;
            margin: 20px 0;
            text-align: center;
        }
    </style>
    `;

    // Add the styles to the document head
    document.head.insertAdjacentHTML('beforeend', styles);

    // Call the function when the page loads
    document.addEventListener('DOMContentLoaded', loadLeaderboard);
</script>
</body>



</html>